{"version":3,"sources":["custom-hooks/useLength.js","pages/Reviews/Reviews.js"],"names":["useLength","myArray","myRef","useEffect","length","current","classList","remove","add","Reviews","filteredReviews","useInfoModal","infoModalData","showInfoModal","closeInfoModal","isAuth","useSelector","state","auth","token","userReviews","reviewPeople","users","useState","options","value","ratings","setRatings","displayedReviews","filter","review","rated","map","singleReview","image","name","job","travelledTo","personReviewImg","personReviewName","personReviewJob","personReviewTours","personReviewText","personReviewRating","reviewsContainer","useRef","infoModalShow","show","infoModalClosed","infoModalTitle","title","infoModalBcg","bcgImg","infoModalText","text","infoModalBtns","to","className","style","display","titleClassname","icon","titleText","titleAdditional","htmlFor","id","onChange","event","prevState","target","opt","ref","type","onClick","textAlign"],"mappings":"+HAAA,6CAEaA,EAAY,SAACC,EAASC,GACjCC,qBAAU,WACc,IAAnBF,EAAQG,QACTF,EAAMG,QAAQC,UAAUC,OAAO,qBAC/BL,EAAMG,QAAQC,UAAUE,IAAI,oBACpBP,EAAQG,OAAS,GAAKH,EAAQG,QAAU,GAChDF,EAAMG,QAAQC,UAAUC,OAAO,mBAC/BL,EAAMG,QAAQC,UAAUE,IAAI,sBACpBP,EAAQG,OAAS,IACzBF,EAAMG,QAAQC,UAAUC,OAAO,mBAC/BL,EAAMG,QAAQC,UAAUC,OAAO,wBAEhC,CAACN,EAASC,M,8KCwHAO,UA1HC,WAAO,IAuCjBC,EAvCgB,EACmCC,cAAhDC,EADa,EACbA,cAAeC,EADF,EACEA,cAAeC,EADjB,EACiBA,eAE/BC,EAASC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,SAEzCC,EAAcJ,aAAY,SAAAC,GAAK,OAAIA,EAAMI,aAAaC,SALxC,EAMUC,mBAAS,CACrCC,QAAS,CACP,CACEC,MAAO,OAET,CACEA,MAAO,OAET,CACEA,MAAO,OAET,CACEA,MAAO,OAET,CACEA,MAAO,OAET,CACEA,MAAO,QAGXA,MAAO,QA3BW,mBAMbC,EANa,KAMJC,EANI,KA+ChBC,GALFlB,EADmB,QAAlBgB,EAAQD,MACSL,EAAYS,QAAO,SAAAC,GAAM,OAAIA,EAAOC,QAAUL,EAAQD,SAEtDL,GAGmBY,KAAI,SAAAC,GAAiB,IACnDC,EAAgDD,EAAhDC,MAAOC,EAAyCF,EAAzCE,KAAMC,EAAmCH,EAAnCG,IAAKC,EAA8BJ,EAA9BI,YAAaP,EAAiBG,EAAjBH,OAAQC,EAASE,EAATF,MAC9C,OAAO,cAAC,IAAD,CAEHO,gBAAiBJ,EACjBK,iBAAkBJ,EAClBK,gBAAiBJ,EACjBK,kBAAmBJ,EACnBK,iBAAkBZ,EAClBa,mBAAoBZ,GANfI,MAULS,EAAmBC,iBAAO,MAIhC,OAFA7C,YAAUU,EAAiBkC,GAGzB,qCACE,cAAC,IAAD,CACEE,cAAelC,EAAcmC,KAC7BC,gBAAiBlC,EACjBmC,eAAgBrC,EAAcsC,MAC9BC,aAAcvC,EAAcwC,OAC5BC,cAAezC,EAAc0C,KAC7BC,cACE,cAAC,IAAD,CAAMC,GAAG,UAAUC,UAAU,2BAA2BC,MAAO,CAACC,QAAS,SAAzE,8BAIJ,cAAC,IAAD,CACEC,eAAe,UACfC,KAAM,cAAC,IAAD,IACNC,UAAU,eACVC,gBAAgB,0BAClB,0BAASN,UAAU,mBAAnB,UACE,mBAAGA,UAAU,gBAAb,kHAGA,0BAASA,UAAU,kBAAnB,UACE,uBAAOO,QAAQ,SAAf,6BAGA,wBACE7B,KAAK,SACL8B,GAAG,SACHxC,MAAOC,EAAQD,MACfyC,SAhEkB,SAACC,GAC3BxC,GAAW,SAAAyC,GACT,OAAO,2BACFA,GADL,IAEE3C,MAAO0C,EAAME,OAAO5C,YAwDlB,SAKGC,EAAQF,QAAQQ,KAAI,SAAAsC,GAAG,OACtB,wBAAwB7C,MAAO6C,EAAI7C,MAAnC,SACG6C,EAAI7C,OADM6C,EAAI7C,eAMvB,yBAASgC,UAAU,mBAAmBc,IAAK3B,EAA3C,SACGhB,IAES,OAAXb,EACC,cAAC,IAAD,CAAM0C,UAAU,eAAeD,GAAG,gBAAlC,+BAIA,wBACEgB,KAAK,SACLf,UAAU,eACVgB,QAAS,kBAAM5D,EAAc,GAAI,qBAAsB,mBAAG6C,MAAO,CAACgB,UAAW,UAAtB,uDAHzD","file":"static/js/12.bf7c692e.chunk.js","sourcesContent":["import { useEffect } from 'react';\r\n\r\nexport const useLength = (myArray, myRef) => {\r\n  useEffect(() => {\r\n    if(myArray.length === 1) {\r\n      myRef.current.classList.remove(\"container-col-2-3\");\r\n      myRef.current.classList.add(\"container-col-1\");\r\n    } else if(myArray.length > 1 && myArray.length <= 3) {\r\n      myRef.current.classList.remove(\"container-col-1\");\r\n      myRef.current.classList.add(\"container-col-2-3\");\r\n    } else if(myArray.length > 3) {\r\n      myRef.current.classList.remove(\"container-col-1\");\r\n      myRef.current.classList.remove(\"container-col-2-3\");\r\n    }\r\n  }, [myArray, myRef]);\r\n};","import React, { useState, useRef } from 'react';\r\nimport './reviews.scss';\r\nimport '../../sass-additions/helper-classes.scss';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { VscPreview } from 'react-icons/vsc';\r\nimport SectionTitle from '../../components/SectionTitle/SectionTitle';\r\nimport SingleReview from '../../components/Reviews/SingleReview/SingleReview';\r\nimport InfoModal from '../../components/UI/InfoModal/InfoModal';\r\nimport { useLength } from '../../custom-hooks/useLength';\r\nimport { useInfoModal } from '../../custom-hooks/useInfoModal';\r\n\r\nconst Reviews = () => {\r\n  const {infoModalData, showInfoModal, closeInfoModal} = useInfoModal();\r\n  // auth state\r\n  const isAuth = useSelector(state => state.auth.token);\r\n  // reviews from reducer\r\n  const userReviews = useSelector(state => state.reviewPeople.users);\r\n  const [ratings, setRatings] = useState({\r\n    options: [\r\n      {\r\n        value: \"all\"\r\n      },\r\n      {\r\n        value: \"1/5\"\r\n      },\r\n      {\r\n        value: \"2/5\"\r\n      },\r\n      {\r\n        value: \"3/5\"\r\n      },\r\n      {\r\n        value: \"4/5\"\r\n      },\r\n      {\r\n        value: \"5/5\"\r\n      },\r\n    ],\r\n    value: \"all\"\r\n  });\r\n\r\n  const ratingsValueChanged = (event) => {\r\n    setRatings(prevState => {\r\n      return {\r\n        ...prevState,\r\n        value: event.target.value\r\n      }\r\n    })\r\n  };\r\n\r\n  let filteredReviews;\r\n\r\n  if(ratings.value !== \"all\") {\r\n    filteredReviews = userReviews.filter(review => review.rated === ratings.value);\r\n  } else {\r\n    filteredReviews = userReviews;\r\n  }\r\n\r\n  let displayedReviews = filteredReviews.map(singleReview => {\r\n    const {image, name, job, travelledTo, review, rated} = singleReview;\r\n    return <SingleReview\r\n        key={name}\r\n        personReviewImg={image}\r\n        personReviewName={name}\r\n        personReviewJob={job}\r\n        personReviewTours={travelledTo}\r\n        personReviewText={review}\r\n        personReviewRating={rated} />\r\n  });\r\n\r\n  // reviews container\r\n  const reviewsContainer = useRef(null);\r\n  // manage look according to number of displayed reviews\r\n  useLength(filteredReviews, reviewsContainer);\r\n\r\n  return (\r\n    <>\r\n      <InfoModal\r\n        infoModalShow={infoModalData.show}\r\n        infoModalClosed={closeInfoModal}\r\n        infoModalTitle={infoModalData.title}\r\n        infoModalBcg={infoModalData.bcgImg}\r\n        infoModalText={infoModalData.text}\r\n        infoModalBtns={\r\n          <Link to=\"/signup\" className=\"info-modal__btn--confirm\" style={{display: \"block\"}}>\r\n            sign up/log in\r\n          </Link>\r\n        } />\r\n      <SectionTitle\r\n        titleClassname=\"reviews\"\r\n        icon={<VscPreview />}\r\n        titleText=\"user reviews\"\r\n        titleAdditional=\"share your experience\" />\r\n      <section className=\"reviews__content\">\r\n        <p className=\"reviews__text\">\r\n          These are our customers reviews, so far. To add your review, sign up and click on the button bellow.\r\n        </p>\r\n        <article className=\"reviews__filter\">\r\n          <label htmlFor=\"filter\">\r\n            View by rating:\r\n          </label>\r\n          <select \r\n            name=\"filter\" \r\n            id=\"filter\"\r\n            value={ratings.value}\r\n            onChange={ratingsValueChanged}>\r\n            {ratings.options.map(opt => (\r\n              <option key={opt.value} value={opt.value}>\r\n                {opt.value}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </article>\r\n        <article className=\"reviews__reviews\" ref={reviewsContainer}>\r\n          {displayedReviews}\r\n        </article>\r\n        {isAuth !== null ? (\r\n          <Link className=\"reviews__btn\" to=\"/leave-review\">\r\n            Leave your review\r\n          </Link>\r\n        ) : (\r\n          <button \r\n            type=\"button\"\r\n            className=\"reviews__btn\"\r\n            onClick={() => showInfoModal(\"\", \"sign up to proceed\", <p style={{textAlign: \"center\"}}>You need to log in in order to proceed.</p>)}>\r\n            Leave your review\r\n          </button>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Reviews;\r\n"],"sourceRoot":""}